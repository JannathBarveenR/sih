<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Career Compass</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .page {
            transition: opacity 0.5s ease-in-out;
            transform: translateX(0);
        }
        .tab-content {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out;
        }
        .accordion-content.expanded {
            max-height: 500px; /* A value larger than the max height of the content */
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center">

    <!-- Main Container -->
    <div class="container mx-auto p-4 md:p-8 max-w-4xl bg-white rounded-2xl shadow-xl flex flex-col items-center">

        <!-- Splash Screen / Main Page -->
        <div id="splash-page" class="w-full page flex flex-col items-center text-center opacity-100">
            <h1 class="text-4xl md:text-5xl font-extrabold text-gray-800 mb-4">Career Compass</h1>
            <p class="text-lg md:text-xl text-gray-600 mb-8 max-w-2xl">Your guide to the future. Explore higher studies, careers, and opportunities to make an informed decision.</p>
            <button id="start-button" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-transform transform hover:scale-105 duration-300">
                Get Started
            </button>
        </div>

        <!-- Main Categories Page -->
        <div id="categories-page" class="w-full page hidden opacity-0">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6 text-center">Choose a Course Category</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Category Cards -->
                <button class="category-card" data-category="engineering">
                    <div class="flex flex-col items-center justify-center p-8 bg-purple-100 rounded-xl shadow-md transition-all duration-300 hover:scale-105 hover:shadow-xl">
                        <span class="text-5xl mb-2">‚öôÔ∏è</span>
                        <span class="text-xl font-semibold text-gray-800">Engineering</span>
                    </div>
                </button>
                <button class="category-card" data-category="medical">
                    <div class="flex flex-col items-center justify-center p-8 bg-pink-100 rounded-xl shadow-md transition-all duration-300 hover:scale-105 hover:shadow-xl">
                        <span class="text-5xl mb-2">ü©∫</span>
                        <span class="text-xl font-semibold text-gray-800">Medical</span>
                    </div>
                </button>
                <button class="category-card" data-category="arts">
                    <div class="flex flex-col items-center justify-center p-8 bg-yellow-100 rounded-xl shadow-md transition-all duration-300 hover:scale-105 hover:shadow-xl">
                        <span class="text-5xl mb-2">üé®</span>
                        <span class="text-xl font-semibold text-gray-800">Arts</span>
                    </div>
                </button>
            </div>
        </div>

        <!-- Departments Page (Dynamically populated) -->
        <div id="departments-page" class="w-full page hidden opacity-0">
            <button id="back-to-categories" class="text-gray-500 hover:text-gray-700 mb-6 flex items-center transition-colors duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                </svg>
                <span class="font-medium">Back to Categories</span>
            </button>
            <h2 id="departments-title" class="text-3xl md:text-4xl font-bold text-gray-800 mb-6 text-center"></h2>
            
            <!-- Search bar -->
            <div class="w-full mb-6">
                <input type="text" id="department-search" placeholder="Search departments..." class="w-full p-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200">
            </div>

            <div id="department-cards-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Department cards will be dynamically inserted here -->
            </div>
        </div>

        <!-- Details Page -->
        <div id="details-page" class="w-full page hidden opacity-0">
            <button id="back-to-departments" class="text-gray-500 hover:text-gray-700 mb-6 flex items-center transition-colors duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                </svg>
                <span class="font-medium">Back to Departments</span>
            </button>
            <div id="details-content" class="w-full">
                <!-- Content will be dynamically populated here -->
            </div>
        </div>
    </div>

    <script>
        // Data structure to hold information for all course categories
        const careerData = {
            engineering: {
                title: "Engineering Departments",
                departments: {
                    cse: {
                        title: "Computer Science and Engineering",
                        description: "CSE is a field that focuses on the fundamentals of computation and programming. It is the backbone of modern technology.",
                        sections: {
                            syllabus: {
                                title: "Syllabus Highlights",
                                content: [
                                    { title: "Data Structures & Algorithms", description: "Learn how to organize and manipulate data efficiently to solve problems. This is the foundation of competitive programming and software development." },
                                    { title: "Operating Systems", description: "Understand the core software that manages computer hardware and software resources, and provides common services for computer programs." },
                                    { title: "Computer Networks", description: "Explore how computers communicate with each other, including protocols, network architecture, and security." },
                                    { title: "Database Management Systems", description: "Study the design, implementation, and management of databases to store and retrieve data efficiently." },
                                    { title: "Software Engineering", description: "Focus on the systematic design, development, and maintenance of software systems." }
                                ],
                            },
                            subfields: {
                                title: "Subfields",
                                content: [
                                    { title: "Artificial Intelligence & Machine Learning", description: "Involves creating algorithms that enable machines to learn from data and make predictions. Subfields include deep learning, computer vision, and natural language processing." },
                                    { title: "Data Science", description: "This is an interdisciplinary field that uses scientific methods, processes, algorithms and systems to extract knowledge and insights from structured and unstructured data." },
                                    { title: "Cybersecurity", description: "Focuses on protecting computer systems and networks from digital attacks, theft, and damage to hardware, software, or electronic data." },
                                    { title: "Cloud Computing", description: "Involves the delivery of on-demand computing services‚Äîfrom applications to storage‚Äîover the internet with pay-as-you-go pricing." }
                                ]
                            },
                            details: {
                                title: "Course Details",
                                content: {
                                    duration: "4 years (8 semesters)",
                                    fees: "‚Çπ1,00,000 - ‚Çπ5,00,000 per year"
                                }
                            },
                            prerequisites: {
                                title: "Prerequisite Knowledge",
                                content: "Strong foundation in Mathematics and Physics. Logical thinking and problem-solving skills are a must."
                            },
                            careers: {
                                title: "Scope & Career Opportunities",
                                content: {
                                    scope: "High demand across all industries. With rapid digital transformation, CSE graduates are essential for software development, data analysis, and technical innovation.",
                                    careers: ["Software Developer", "Data Scientist", "AI Engineer", "Cybersecurity Analyst", "Cloud Architect"]
                                }
                            },
                            colleges: {
                                title: "Top Colleges",
                                content: ["IIT Madras", "BITS Pilani", "IIT Bombay"]
                            },
                            videos: {
                                title: "Videos & Insights",
                                content: {
                                    professor: "Professor's Guide",
                                    professional: "Professional's Guide"
                                }
                            }
                        }
                    },
                    it: {
                        title: "Information Technology",
                        description: "IT focuses on the application and maintenance of technology to solve business problems.",
                        sections: {
                            syllabus: {
                                title: "Syllabus Highlights",
                                content: [
                                    { title: "Network Administration", description: "Learn about managing and maintaining an organization's computer networks, including hardware, software, and security protocols." },
                                    { title: "IT Security", description: "Understand the principles and practices of protecting IT infrastructure from threats and vulnerabilities." },
                                    { title: "Web Development", description: "Gain skills in creating and maintaining websites and web applications using various programming languages and frameworks." }
                                ]
                            },
                            subfields: {
                                title: "Subfields",
                                content: [
                                    { title: "IT Consulting", description: "Professionals in this field provide expert advice to organizations on how to use IT to achieve their business objectives." }
                                ]
                            },
                            details: {
                                title: "Course Details",
                                content: {
                                    duration: "4 years (8 semesters)",
                                    fees: "‚Çπ80,000 - ‚Çπ4,00,000 per year"
                                }
                            },
                            prerequisites: {
                                title: "Prerequisite Knowledge",
                                content: "A general interest in computer systems and networks. Basic understanding of programming concepts is helpful."
                            },
                            careers: {
                                title: "Scope & Career Opportunities",
                                content: {
                                    scope: "Excellent prospects in the tech industry. IT professionals are crucial for managing an organization's technological infrastructure and ensuring data integrity.",
                                    careers: ["Network Administrator", "System Analyst", "IT Consultant", "Web Developer", "Database Administrator"]
                                }
                            },
                            colleges: {
                                title: "Top Colleges",
                                content: ["NIT Warangal", "VIT", "MIT"]
                            },
                            videos: {
                                title: "Videos & Insights",
                                content: {
                                    professor: "Professor's Guide",
                                    professional: "Professional's Guide"
                                }
                            }
                        }
                    },
                    mechanical: {
                        title: "Mechanical Engineering",
                        description: "The study of motion, energy, and force. It's often called the 'evergreen' branch of engineering.",
                        sections: {
                            syllabus: {
                                title: "Syllabus Highlights",
                                content: [
                                    { title: "Thermodynamics", description: "Study the relationships between heat, work, and energy, and how they apply to mechanical systems and engines." },
                                    { title: "Fluid Mechanics", description: "Explore the behavior of fluids (liquids and gases) in motion and at rest, and their interaction with solid surfaces." },
                                    { title: "Robotics", description: "Involves the design, construction, and operation of robots to automate tasks and solve complex problems." }
                                ]
                            },
                            subfields: {
                                title: "Subfields",
                                content: [
                                    { title: "Robotics", description: "The design, construction, operation, and use of robots. It's a key part of automation in manufacturing and logistics." },
                                    { title: "Automotive Engineering", description: "Focuses on the design, development, and manufacturing of vehicles and their components." }
                                ]
                            },
                            details: {
                                title: "Course Details",
                                content: {
                                    duration: "4 years (8 semesters)",
                                    fees: "‚Çπ90,000 - ‚Çπ4,50,000 per year"
                                }
                            },
                            prerequisites: {
                                title: "Prerequisite Knowledge",
                                content: "A strong grasp of Physics, particularly mechanics and thermodynamics. Good spatial reasoning and design skills are beneficial."
                            },
                            careers: {
                                title: "Scope & Career Opportunities",
                                content: {
                                    scope: "Wide range of applications in almost every industry. From designing engines to developing advanced robotics, mechanical engineers are at the forefront of innovation.",
                                    careers: ["Automotive Engineer", "Robotics Engineer", "Aerospace Engineer", "HVAC Engineer", "Manufacturing Engineer"]
                                }
                            },
                            colleges: {
                                title: "Top Colleges",
                                content: ["IIT Kanpur", "Anna University", "College of Engineering, Pune"]
                            },
                            videos: {
                                title: "Videos & Insights",
                                content: {
                                    professor: "Professor's Guide",
                                    professional: "Professional's Guide"
                                }
                            }
                        }
                    }
                }
            },
            medical: {
                title: "Medical Courses",
                departments: {
                    mbbs: {
                        title: "MBBS",
                        description: "The Bachelor of Medicine, Bachelor of Surgery (MBBS) degree is the gateway to a career as a doctor.",
                        sections: {
                            syllabus: {
                                title: "Syllabus Highlights",
                                content: [
                                    { title: "Anatomy", description: "Study of the structure of the human body, including bones, muscles, and organs." },
                                    { title: "Physiology", description: "Learn about the functions and mechanisms of the human body's systems." },
                                    { title: "Pharmacology", description: "Explore the study of drugs, their effects on the body, and their uses as medicine." }
                                ]
                            },
                            subfields: {
                                title: "Subfields",
                                content: [
                                    { title: "General Medicine", description: "Involves the diagnosis and non-surgical treatment of diseases and injuries." },
                                    { title: "Surgery", description: "This specialization focuses on performing surgical procedures to treat injuries, diseases, and deformities." }
                                ]
                            },
                            details: {
                                title: "Course Details",
                                content: {
                                    duration: "5.5 years (including 1 year internship)",
                                    fees: "‚Çπ50,000 - ‚Çπ10,00,000 per year"
                                }
                            },
                            prerequisites: {
                                title: "Prerequisite Knowledge",
                                content: "Mandatory completion of Physics, Chemistry, and Biology in high school. Must clear the NEET entrance exam."
                            },
                            careers: {
                                title: "Scope & Career Opportunities",
                                content: {
                                    scope: "A highly respected and stable career path. With a growing population, the demand for qualified doctors and specialists is always high.",
                                    careers: ["General Physician", "Surgeon", "Pediatrician", "Cardiologist", "Neurologist"]
                                }
                            },
                            colleges: {
                                title: "Top Colleges",
                                content: ["AIIMS Delhi", "CMC Vellore", "Maulana Azad Medical College"]
                            },
                            videos: {
                                title: "Videos & Insights",
                                content: {
                                    professor: "Professor's Guide",
                                    professional: "Professional's Guide"
                                }
                            }
                        }
                    },
                    bds: {
                        title: "BDS",
                        description: "The Bachelor of Dental Surgery (BDS) degree is for those aspiring to become a dentist.",
                        sections: {
                            syllabus: {
                                title: "Syllabus Highlights",
                                content: [
                                    { title: "Oral Anatomy", description: "Study the structure of the mouth, teeth, jaws, and facial tissues." },
                                    { title: "Periodontics", description: "Focus on the prevention and treatment of gum diseases and conditions affecting supporting structures of the teeth." },
                                    { title: "Prosthodontics", description: "Learn about the design and fitting of artificial replacements for teeth and other oral structures." }
                                ]
                            },
                            subfields: {
                                title: "Subfields",
                                content: [
                                    { title: "Oral Surgery", description: "Specializes in surgical procedures related to the teeth, jaws, and facial tissues." },
                                    { title: "Orthodontics", description: "Focuses on the diagnosis, prevention, and correction of misaligned teeth and jaws." }
                                ]
                            },
                            details: {
                                title: "Course Details",
                                content: {
                                    duration: "5 years (including 1 year internship)",
                                    fees: "‚Çπ40,000 - ‚Çπ6,00,000 per year"
                                }
                            },
                            prerequisites: {
                                title: "Prerequisite Knowledge",
                                content: "Must have completed Physics, Chemistry, and Biology in high school and passed the NEET exam."
                            },
                            careers: {
                                title: "Scope & Career Opportunities",
                                content: {
                                    scope: "Excellent opportunities in both private and public sectors. Can start a private practice or work in hospitals and research.",
                                    careers: ["Dentist", "Orthodontist", "Oral Surgeon", "Periodontist"]
                                }
                            },
                            colleges: {
                                title: "Top Colleges",
                                content: ["Manipal College of Dental Sciences", "Government Dental College, Mumbai"]
                            },
                            videos: {
                                title: "Videos & Insights",
                                content: {
                                    professor: "Professor's Guide",
                                    professional: "Professional's Guide"
                                }
                            }
                        }
                    }
                }
            },
            arts: {
                title: "Arts & Humanities",
                departments: {
                    ba_eng: {
                        title: "Bachelor of Arts in English",
                        description: "This course helps students develop a deep appreciation for literature and strong analytical skills.",
                        sections: {
                            syllabus: {
                                title: "Syllabus Highlights",
                                content: [
                                    { title: "Literary Theory", description: "The study of the theories and methods used to interpret literature." },
                                    { title: "Creative Writing", description: "A course dedicated to developing skills in writing fiction, poetry, and screenplays." },
                                    { title: "World Literature", description: "Explore literary works from various cultures and time periods, including European, American, and Asian literature." }
                                ]
                            },
                            subfields: {
                                title: "Subfields",
                                content: [
                                    { title: "Journalism", description: "Focuses on reporting, writing, and editing news for various media outlets, from print to digital." },
                                    { title: "Public Relations", description: "Involves managing the public image of an individual or organization." }
                                ]
                            },
                            details: {
                                title: "Course Details",
                                content: {
                                    duration: "3 years (6 semesters)",
                                    fees: "‚Çπ10,000 - ‚Çπ80,000 per year"
                                }
                            },
                            prerequisites: {
                                title: "Prerequisite Knowledge",
                                content: "A keen interest in literature, strong reading comprehension, and excellent writing skills."
                            },
                            careers: {
                                title: "Scope & Career Opportunities",
                                content: {
                                    scope: "Provides a versatile skill set valuable in many industries. Communication and critical thinking are highly sought after.",
                                    careers: ["Journalist", "Content Writer", "Editor", "Public Relations Specialist", "Teacher"]
                                }
                            },
                            colleges: {
                                title: "Top Colleges",
                                content: ["St. Stephen's College, Delhi", "Christ University, Bangalore", "Lady Shri Ram College for Women"]
                            },
                            videos: {
                                title: "Videos & Insights",
                                content: {
                                    professor: "Professor's Guide",
                                    professional: "Professional's Guide"
                                }
                            }
                        }
                    }
                }
            }
        };

        let currentCategory = '';
        const splashPage = document.getElementById('splash-page');
        const categoriesPage = document.getElementById('categories-page');
        const departmentsPage = document.getElementById('departments-page');
        const detailsPage = document.getElementById('details-page');
        const detailsContent = document.getElementById('details-content');
        const departmentSearch = document.getElementById('department-search');

        const startButton = document.getElementById('start-button');
        const backToCategoriesButton = document.getElementById('back-to-categories');
        const backToDepartmentsButton = document.getElementById('back-to-departments');
        const categoryCards = document.querySelectorAll('.category-card');
        const departmentsContainer = document.getElementById('department-cards-container');

        // Function to handle page transitions
        const switchPage = (fromPage, toPage) => {
            fromPage.classList.remove('opacity-100');
            fromPage.classList.add('opacity-0');
            setTimeout(() => {
                fromPage.classList.add('hidden');
                toPage.classList.remove('hidden');
                setTimeout(() => toPage.classList.remove('opacity-0'), 20);
            }, 500);
        };

        // Event listener for the "Get Started" button
        startButton.addEventListener('click', () => {
            switchPage(splashPage, categoriesPage);
        });

        // Event listeners for each category card
        categoryCards.forEach(card => {
            card.addEventListener('click', () => {
                const categoryId = card.dataset.category;
                currentCategory = categoryId;
                populateDepartments(categoryId);
                switchPage(categoriesPage, departmentsPage);
            });
        });

        // Function to populate department cards based on category
        const populateDepartments = (categoryId) => {
            const categoryData = careerData[categoryId];
            departmentsContainer.innerHTML = '';
            document.getElementById('departments-title').textContent = categoryData.title;
            departmentSearch.value = '';

            for (const deptId in categoryData.departments) {
                const dept = categoryData.departments[deptId];
                const departmentCardHTML = `
                    <button class="department-card block w-full text-left" data-department="${deptId}" data-title="${dept.title.toLowerCase()}">
                        <div class="flex flex-col items-center justify-center p-6 bg-gray-100 rounded-xl shadow-md transition-all duration-300 hover:scale-105 hover:shadow-xl">
                            <span class="text-xl font-semibold text-gray-800">${dept.title}</span>
                            <span class="text-sm text-gray-500 mt-2 text-center">${dept.description}</span>
                        </div>
                    </button>
                `;
                departmentsContainer.insertAdjacentHTML('beforeend', departmentCardHTML);
            }

            // Add event listeners to the new department cards
            document.querySelectorAll('.department-card').forEach(deptCard => {
                deptCard.addEventListener('click', () => {
                    const departmentId = deptCard.dataset.department;
                    const data = careerData[currentCategory].departments[departmentId];
                    populateDetails(data);
                    switchPage(departmentsPage, detailsPage);
                });
            });
        };

        // Function to populate the details page
        const populateDetails = (data) => {
            let navHTML = '';
            let contentHTML = '';
            let firstSectionKey = Object.keys(data.sections)[0];

            for (const sectionKey in data.sections) {
                const section = data.sections[sectionKey];
                const sectionId = sectionKey + '-content';

                navHTML += `
                    <button data-target="${sectionId}" class="tab-button py-2 px-4 rounded-full font-medium transition-colors duration-200">${section.title}</button>
                `;

                let sectionContent = '';
                if (sectionKey === 'syllabus') {
                    sectionContent = section.content.map((topic, index) => `
                        <div class="mb-2 last:mb-0">
                            <button class="accordion-button flex justify-between items-center w-full p-4 text-left font-semibold text-gray-800 bg-white rounded-lg shadow-sm focus:outline-none transition-colors duration-200 hover:bg-gray-100">
                                <span>${topic.title}</span>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transform transition-transform duration-300" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                                </svg>
                            </button>
                            <div class="accordion-content p-4 bg-white rounded-b-lg text-gray-700 shadow-sm border-t border-gray-200">
                                <p>${topic.description}</p>
                            </div>
                        </div>
                    `).join('');
                } else if (sectionKey === 'subfields') {
                    sectionContent = section.content.map(subfield => `
                        <div class="mb-4">
                            <h4 class="text-lg font-semibold text-gray-800">${subfield.title}</h4>
                            <p class="text-gray-700">${subfield.description}</p>
                        </div>
                    `).join('');
                } else if (sectionKey === 'details') {
                    sectionContent = `
                        <p class="text-gray-700"><strong>Duration:</strong> ${section.content.duration}</p>
                        <p class="text-gray-700"><strong>Approx. Fees:</strong> ${section.content.fees}</p>
                    `;
                } else if (sectionKey === 'careers') {
                    sectionContent = `
                        <p class="text-gray-700 mb-2">${section.content.scope}</p>
                        <ul class="list-disc list-inside text-gray-700 space-y-1">
                            ${section.content.careers.map(career => `<li>${career}</li>`).join('')}
                        </ul>
                    `;
                } else if (sectionKey === 'colleges') {
                    sectionContent = `
                        <ul class="list-disc list-inside text-gray-700 space-y-1">
                            ${section.content.map(college => `<li>${college}</li>`).join('')}
                        </ul>
                    `;
                } else if (sectionKey === 'videos') {
                    sectionContent = `
                        <p class="text-gray-700 mb-4">Watch videos from professors and professionals to get a clear idea of this career path.</p>
                        <div class="flex flex-col space-y-4">
                            <div>
                                <h4 class="font-semibold text-gray-800">${section.content.professor}</h4>
                                <div class="bg-gray-200 h-32 rounded-lg flex items-center justify-center">
                                    <span class="text-gray-500">Video Placeholder</span>
                                </div>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-800">${section.content.professional}</h4>
                                <div class="bg-gray-200 h-32 rounded-lg flex items-center justify-center">
                                    <span class="text-gray-500">Video Placeholder</span>
                                </div>
                            </div>
                        </div>
                    `;
                } else {
                    sectionContent = `<p class="text-gray-700">${section.content}</p>`;
                }

                contentHTML += `
                    <div id="${sectionId}" class="tab-content bg-gray-50 p-6 rounded-xl shadow-sm ${sectionKey !== firstSectionKey ? 'hidden' : ''}">
                        <div>${sectionContent}</div>
                    </div>
                `;
            }
            
            detailsContent.innerHTML = `
                <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6">${data.title}</h2>
                <div class="flex flex-wrap justify-center md:justify-start gap-2 mb-8">
                    ${navHTML}
                </div>
                <div class="details-section-container">
                    ${contentHTML}
                </div>
            `;

            // Add event listeners for the new tab buttons
            document.querySelectorAll('.tab-button').forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.dataset.target;
                    
                    // Remove active class from all buttons and content
                    document.querySelectorAll('.tab-button').forEach(btn => {
                        btn.classList.remove('bg-blue-600', 'text-white');
                        btn.classList.add('text-gray-800', 'hover:bg-gray-200');
                    });
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.add('hidden');
                    });

                    // Add active class to clicked button and show target content
                    button.classList.add('bg-blue-600', 'text-white');
                    button.classList.remove('text-gray-800', 'hover:bg-gray-200');
                    document.getElementById(targetId).classList.remove('hidden');
                });
            });
            
            // Add event listeners for the new accordion buttons
            document.querySelectorAll('.accordion-button').forEach(button => {
                button.addEventListener('click', () => {
                    const content = button.nextElementSibling;
                    const icon = button.querySelector('svg');
                    const isExpanded = content.classList.toggle('expanded');
                    if (isExpanded) {
                        icon.classList.add('rotate-180');
                    } else {
                        icon.classList.remove('rotate-180');
                    }
                });
            });
            
            // Automatically click the first button to show initial content
            document.querySelector(`[data-target="${firstSectionKey}-content"]`).click();
        };

        // Event listener for the "Back to Categories" button
        backToCategoriesButton.addEventListener('click', () => {
            switchPage(departmentsPage, categoriesPage);
        });

        // Event listener for the "Back to Departments" button
        backToDepartmentsButton.addEventListener('click', () => {
            switchPage(detailsPage, departmentsPage);
        });

        // Event listener for the search input
        departmentSearch.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            const departmentCards = document.querySelectorAll('.department-card');

            departmentCards.forEach(card => {
                const departmentTitle = card.dataset.title;
                if (departmentTitle.includes(searchTerm)) {
                    card.classList.remove('hidden');
                } else {
                    card.classList.add('hidden');
                }
            });
        });
    </script>
</body>
</html>
